2025-03-12 09:47:26,691 - ERROR - Validation error in file fbd7f4cd_test_flat_CustomerCardNumber.json: [{'type': 'string_too_long', 'loc': ('CustomerCardNumber',), 'msg': 'String should have at most 16 characters', 'input': '12345678123456789', 'ctx': {'max_length': 16}, 'url': 'https://errors.pydantic.dev/2.10/v/string_too_long'}]
2025-03-12 10:14:14,054 - ERROR - Validation error in file 02bacad9_test_flat_CustomerID.json: [{'type': 'string_too_short', 'loc': ('CustomerID',), 'msg': 'String should have at least 7 characters', 'input': 'CU', 'ctx': {'min_length': 7}, 'url': 'https://errors.pydantic.dev/2.10/v/string_too_short'}]
2025-03-12 10:14:14,196 - ERROR - Failed to send email: [Errno 11001] getaddrinfo failed
2025-03-12 14:10:24,585 - ERROR - [customer_json_processor_v2_robust_additions.py:270] - send_error_email - Email password not set in environment variables
2025-03-13 09:22:00,362 - ERROR - [customer_json_processor_v3_security_enhancements.py:315] - send_error_email - Failed to send email: [SSL: WRONG_VERSION_NUMBER] wrong version number (_ssl.c:1020)
Traceback (most recent call last):
  File "c:\Users\vincent.healy\Documents\Projects\Tap Convertor\JSON Validator 2\customer_json_processor_v3_security_enhancements.py", line 308, in send_error_email
    with smtplib.SMTP_SSL(smtp_server, smtp_port, context=context) as server:
         ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python 313\Lib\smtplib.py", line 1022, in __init__
    SMTP.__init__(self, host, port, local_hostname, timeout,
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                  source_address)
                  ^^^^^^^^^^^^^^^
  File "C:\Python 313\Lib\smtplib.py", line 255, in __init__
    (code, msg) = self.connect(host, port)
                  ~~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Python 313\Lib\smtplib.py", line 341, in connect
    self.sock = self._get_socket(host, port, self.timeout)
                ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python 313\Lib\smtplib.py", line 1029, in _get_socket
    new_socket = self.context.wrap_socket(new_socket,
                                          server_hostname=self._host)
  File "C:\Python 313\Lib\ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sock=sock,
        ^^^^^^^^^^
    ...<5 lines>...
        session=session
        ^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Python 313\Lib\ssl.py", line 1076, in _create
    self.do_handshake()
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Python 313\Lib\ssl.py", line 1372, in do_handshake
    self._sslobj.do_handshake()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
ssl.SSLError: [SSL: WRONG_VERSION_NUMBER] wrong version number (_ssl.c:1020)

2025-03-13 09:27:41,869 - ERROR - [customer_json_processor_v4_nested_and_flat_json.py:378] - send_error_email - Failed to send email: [SSL: WRONG_VERSION_NUMBER] wrong version number (_ssl.c:1020)
Traceback (most recent call last):
  File "c:\Users\vincent.healy\Documents\Projects\Tap Convertor\JSON Validator 2\customer_json_processor_v4_nested_and_flat_json.py", line 371, in send_error_email
    with smtplib.SMTP_SSL(smtp_server, smtp_port, context=context) as server:
         ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python 313\Lib\smtplib.py", line 1022, in __init__
    SMTP.__init__(self, host, port, local_hostname, timeout,
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                  source_address)
                  ^^^^^^^^^^^^^^^
  File "C:\Python 313\Lib\smtplib.py", line 255, in __init__
    (code, msg) = self.connect(host, port)
                  ~~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Python 313\Lib\smtplib.py", line 341, in connect
    self.sock = self._get_socket(host, port, self.timeout)
                ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python 313\Lib\smtplib.py", line 1029, in _get_socket
    new_socket = self.context.wrap_socket(new_socket,
                                          server_hostname=self._host)
  File "C:\Python 313\Lib\ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sock=sock,
        ^^^^^^^^^^
    ...<5 lines>...
        session=session
        ^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Python 313\Lib\ssl.py", line 1076, in _create
    self.do_handshake()
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Python 313\Lib\ssl.py", line 1372, in do_handshake
    self._sslobj.do_handshake()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
ssl.SSLError: [SSL: WRONG_VERSION_NUMBER] wrong version number (_ssl.c:1020)

2025-03-13 09:29:13,605 - ERROR - [customer_json_processor_v4_nested_and_flat_json.py:378] - send_error_email - Failed to send email: [SSL: WRONG_VERSION_NUMBER] wrong version number (_ssl.c:1020)
Traceback (most recent call last):
  File "c:\Users\vincent.healy\Documents\Projects\Tap Convertor\JSON Validator 2\customer_json_processor_v4_nested_and_flat_json.py", line 371, in send_error_email
    with smtplib.SMTP_SSL(smtp_server, smtp_port, context=context) as server:
         ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python 313\Lib\smtplib.py", line 1022, in __init__
    SMTP.__init__(self, host, port, local_hostname, timeout,
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                  source_address)
                  ^^^^^^^^^^^^^^^
  File "C:\Python 313\Lib\smtplib.py", line 255, in __init__
    (code, msg) = self.connect(host, port)
                  ~~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Python 313\Lib\smtplib.py", line 341, in connect
    self.sock = self._get_socket(host, port, self.timeout)
                ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python 313\Lib\smtplib.py", line 1029, in _get_socket
    new_socket = self.context.wrap_socket(new_socket,
                                          server_hostname=self._host)
  File "C:\Python 313\Lib\ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sock=sock,
        ^^^^^^^^^^
    ...<5 lines>...
        session=session
        ^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Python 313\Lib\ssl.py", line 1076, in _create
    self.do_handshake()
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Python 313\Lib\ssl.py", line 1372, in do_handshake
    self._sslobj.do_handshake()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
ssl.SSLError: [SSL: WRONG_VERSION_NUMBER] wrong version number (_ssl.c:1020)

2025-03-13 09:46:20,602 - ERROR - [customer_json_processor_v4_nested_and_flat_json.py:222] - process_file - Error processing test_nested.json: 'JSONFileHandler' object has no attribute 'send_error_email'
Traceback (most recent call last):
  File "c:\Users\vincent.healy\Documents\Projects\Tap Convertor\JSON Validator 2\customer_json_processor_v4_nested_and_flat_json.py", line 218, in process_file
    except Exception as e:
            ^^^^^^^^^^^^^^
AttributeError: 'JSONFileHandler' object has no attribute 'send_error_email'

2025-03-13 09:46:20,986 - CRITICAL - [customer_json_processor_v4_nested_and_flat_json.py:496] - run_file_processor - Observer has died unexpectedly. Restarting...
2025-03-13 10:17:39,927 - ERROR - [customer_json_processor_v4_nested_and_flat_json.py:222] - process_file - Error processing test_nested fault.json: 'JSONFileHandler' object has no attribute 'send_error_email'
Traceback (most recent call last):
  File "c:\Users\vincent.healy\Documents\Projects\Tap Convertor\JSON Validator 2\customer_json_processor_v4_nested_and_flat_json.py", line 218, in process_file
    except Exception as e:
            ^^^^^^^^^^^^^^
AttributeError: 'JSONFileHandler' object has no attribute 'send_error_email'

2025-03-13 10:17:40,102 - CRITICAL - [customer_json_processor_v4_nested_and_flat_json.py:496] - run_file_processor - Observer has died unexpectedly. Restarting...
2025-03-13 10:22:18,183 - ERROR - [customer_json_processor_v4_nested_and_flat_json.py:382] - send_error_email - Failed to send email: (535, b'5.7.3 Authentication unsuccessful [LO2P265CA0075.GBRP265.PROD.OUTLOOK.COM 2025-03-13T10:22:17.954Z 08DD61D44AAD2478]')
Traceback (most recent call last):
  File "c:\Users\vincent.healy\Documents\Projects\Tap Convertor\JSON Validator 2\customer_json_processor_v4_nested_and_flat_json.py", line 376, in send_error_email
    server.login(sender_email, password)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python 313\Lib\smtplib.py", line 750, in login
    raise last_exception
  File "C:\Python 313\Lib\smtplib.py", line 739, in login
    (code, resp) = self.auth(
                   ~~~~~~~~~^
        authmethod, getattr(self, method_name),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        initial_response_ok=initial_response_ok)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python 313\Lib\smtplib.py", line 662, in auth
    raise SMTPAuthenticationError(code, resp)
smtplib.SMTPAuthenticationError: (535, b'5.7.3 Authentication unsuccessful [LO2P265CA0075.GBRP265.PROD.OUTLOOK.COM 2025-03-13T10:22:17.954Z 08DD61D44AAD2478]')

2025-03-13 10:57:12,331 - ERROR - [customer_json_processor_v4_nested_and_flat_json.py:385] - send_error_email - Failed to send email: (535, b'5.7.3 Authentication unsuccessful [LO4P123CA0405.GBRP123.PROD.OUTLOOK.COM 2025-03-13T10:57:12.241Z 08DD61A92D54C00A]')
Traceback (most recent call last):
  File "c:\Users\vincent.healy\Documents\Projects\Tap Convertor\JSON Validator 2\customer_json_processor_v4_nested_and_flat_json.py", line 379, in send_error_email
    server.login(sender_email, password)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python 313\Lib\smtplib.py", line 750, in login
    raise last_exception
  File "C:\Python 313\Lib\smtplib.py", line 739, in login
    (code, resp) = self.auth(
                   ~~~~~~~~~^
        authmethod, getattr(self, method_name),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        initial_response_ok=initial_response_ok)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python 313\Lib\smtplib.py", line 662, in auth
    raise SMTPAuthenticationError(code, resp)
smtplib.SMTPAuthenticationError: (535, b'5.7.3 Authentication unsuccessful [LO4P123CA0405.GBRP123.PROD.OUTLOOK.COM 2025-03-13T10:57:12.241Z 08DD61A92D54C00A]')

2025-03-13 14:18:08,002 - ERROR - [file_handler.py:145] - _process_json_file - Error processing 9ac833a4_test_flat.json: name 'os' is not defined
Traceback (most recent call last):
  File "c:\Users\vincent.healy\Documents\Projects\Tap Convertor\JSON Validator 2\handlers\file_handler.py", line 133, in _process_json_file
    send_to_third_party(validated_file_path)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\vincent.healy\Documents\Projects\Tap Convertor\JSON Validator 2\handlers\third_party.py", line 21, in send_to_third_party
    app_logger.info(f"Sending {os.path.basename(file_path)} to 3rd party")
                               ^^
NameError: name 'os' is not defined. Did you forget to import 'os'?

2025-03-13 14:18:19,257 - ERROR - [email_handler.py:68] - send_error_email - Failed to send email: (535, b'5.7.3 Authentication unsuccessful [LO4P265CA0309.GBRP265.PROD.OUTLOOK.COM 2025-03-13T14:18:19.052Z 08DD61DC37785553]')
Traceback (most recent call last):
  File "c:\Users\vincent.healy\Documents\Projects\Tap Convertor\JSON Validator 2\handlers\file_handler.py", line 133, in _process_json_file
    send_to_third_party(validated_file_path)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\vincent.healy\Documents\Projects\Tap Convertor\JSON Validator 2\handlers\third_party.py", line 21, in send_to_third_party
    app_logger.info(f"Sending {os.path.basename(file_path)} to 3rd party")
                               ^^
NameError: name 'os' is not defined. Did you forget to import 'os'?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\Users\vincent.healy\Documents\Projects\Tap Convertor\JSON Validator 2\handlers\email_handler.py", line 61, in send_error_email
    server.login(sender_email, password)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python 313\Lib\smtplib.py", line 750, in login
    raise last_exception
  File "C:\Python 313\Lib\smtplib.py", line 739, in login
    (code, resp) = self.auth(
                   ~~~~~~~~~^
        authmethod, getattr(self, method_name),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        initial_response_ok=initial_response_ok)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python 313\Lib\smtplib.py", line 662, in auth
    raise SMTPAuthenticationError(code, resp)
smtplib.SMTPAuthenticationError: (535, b'5.7.3 Authentication unsuccessful [LO4P265CA0309.GBRP265.PROD.OUTLOOK.COM 2025-03-13T14:18:19.052Z 08DD61DC37785553]')

